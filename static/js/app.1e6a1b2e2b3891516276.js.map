{"version":3,"sources":["webpack:///./src/App.vue?37b2","webpack:///./src/App.vue","webpack:///src/App.vue","webpack:///./src/js/aes.js","webpack:///./src/js/keyManager.js","webpack:///src/components/list.vue","webpack:///./src/components/list.vue?2eb6","webpack:///./src/components/list.vue","webpack:///src/components/showfile.vue","webpack:///./src/components/showfile.vue?2a41","webpack:///./src/components/showfile.vue","webpack:///./src/router/index.js","webpack:///./src/main.js"],"names":["selectortype_template_index_0_src_App","render","_h","this","$createElement","_c","_self","attrs","id","staticRenderFns","src_App","__webpack_require__","normalizeComponent","name","ssrContext","iv","crypto_js_default","a","enc","Utf8","parse","aes","encrypt","word","key","from_default","TextEncoder","encode","map","m","toString","padStart","join","srcs","AES","mode","CBC","padding","pad","Pkcs7","ciphertext","toUpperCase","decrypt","encryptedHexStr","Hex","Base64","stringify","keyManager","sessionStorage","getItem","value","setItem","list","data","fileList","skey","typeKeyCount","methods","checkKey","ckey","setKey","_this","promise_default","s","msg","mint_ui_common","prompt","then","_ref","action","newFile","_ref2","asyncToGenerator_default","regenerator_default","mark","_callee","newFilename","wrap","_context","prev","next","sent","RegExp","test","abrupt","Object","t0","axios_default","post","$router","push","t1","console","error","stop","apply","arguments","mounted","_ref3","_callee2","_context2","get","files","components_list","fixed","title","_v","staticStyle","height","_l","file","slot","to","icon","position","bottom","right","type","size","on","click","src_components_list","list_normalizeComponent","showfile","showSaveButton","filecontent","filecontentOld","contentStyle","screen","availHeight","saveFile","result","log","put","$route","params","filename","deleteFile","confirm","delete","go","_callee3","plaintext","_context3","watch","components_showfile","_vm","_e","directives","rawName","expression","style","domProps","input","$event","target","composing","margin-top","src_components_showfile","showfile_normalizeComponent","vue_esm","use","vue_router_esm","router","routes","path","component","config","productionTip","mint_ui_common_default","el","components","App","template"],"mappings":"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","file":"static/js/app.1e6a1b2e2b3891516276.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('router-view')],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-1f5807a9\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-1f5807a9\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../node_modules/vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n}\nvar normalizeComponent = require(\"!../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\nimport __vue_script__ from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\n/* template */\nimport __vue_template__ from \"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-1f5807a9\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = null\n// module chunks = ","<template>\n  <div id=\"app\">\n    <!-- <img src=\"./assets/logo.png\"> -->\n    <router-view/>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'App'\n}\n</script>\n\n<style>\n#app {\n  font-family: \"Avenir\", Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  color: #2c3e50;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/App.vue","import CryptoJS from \"crypto-js\";\r\n\r\nconst iv = CryptoJS.enc.Utf8.parse(\"ABCDEF1234123412\"); // 十六位十六进制数作为密钥偏移量\r\n\r\nfunction encrypt(word, key) {\r\n  key = CryptoJS.enc.Utf8.parse(\r\n    Array.from(new TextEncoder().encode(key))\r\n      .map(m => {\r\n        return m.toString(16).padStart(2, \"0\");\r\n      })\r\n      .join(\"\")\r\n  );\r\n  let srcs = CryptoJS.enc.Utf8.parse(word);\r\n  let encrypted = CryptoJS.AES.encrypt(srcs, key, {\r\n    iv: iv,\r\n    mode: CryptoJS.mode.CBC,\r\n    padding: CryptoJS.pad.Pkcs7\r\n  });\r\n  return encrypted.ciphertext.toString().toUpperCase();\r\n}\r\n\r\nfunction decrypt(word, key) {\r\n  key = CryptoJS.enc.Utf8.parse(\r\n    Array.from(new TextEncoder().encode(key))\r\n      .map(m => {\r\n        return m.toString(16).padStart(2, \"0\");\r\n      })\r\n      .join(\"\")\r\n  );\r\n  let encryptedHexStr = CryptoJS.enc.Hex.parse(word);\r\n  let srcs = CryptoJS.enc.Base64.stringify(encryptedHexStr);\r\n  let decrypt = CryptoJS.AES.decrypt(srcs, key, {\r\n    iv: iv,\r\n    mode: CryptoJS.mode.CBC,\r\n    padding: CryptoJS.pad.Pkcs7\r\n  });\r\n  let decryptedStr = decrypt.toString(CryptoJS.enc.Utf8);\r\n  return decryptedStr.toString();\r\n}\r\n\r\nexport default {\r\n  encrypt: encrypt,\r\n  decrypt: decrypt\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/aes.js","export default {\r\n  getKey: () => {\r\n    return sessionStorage.getItem(\"theAesKey\");\r\n  },\r\n  setKey: value => {\r\n    sessionStorage.setItem(\"theAesKey\", value);\r\n  }\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/keyManager.js","<template>\n  <div>\n    <mt-header fixed title=\"hello \"></mt-header>\n    <div style=\"height:40px\"></div>\n    <router-link v-for=\"file in fileList\" :to=\"'/file/'+file\" :key=\"file\" icon=\"more\" slot=\"right\">\n      <mt-cell :title=\"file\"></mt-cell>\n    </router-link>\n    <mt-button type=\"primary\" size=\"small\" @click=\"newFile\" style=\"position: fixed;bottom: 16px;right: 16px;\">new</mt-button>\n  </div>\n</template>\n\n<script>\nimport { MessageBox } from \"mint-ui\";\nimport { Toast } from \"mint-ui\";\nimport axios from \"axios\";\nimport CryptoJS from \"crypto-js\";\nimport aes from '../js/aes.js';\nimport keyManager from '../js/keyManager.js';\n\nexport default {\n  name: \"list\",\n  data() {\n    return {\n      fileList: [],\n      skey: '',\n      typeKeyCount: 0\n    };\n  },\n  methods: {\n    checkKey: function () {\n      const ckey = keyManager.getKey()\n      if (!ckey) return false\n      if (aes.encrypt(ckey, ckey) != this.skey)\n        return false\n      return true\n    },\n    setKey: function () {\n      return new Promise(s => {\n        let msg = ''\n        if (this.typeKeyCount <= 0) msg = '请输入密码'\n        else if (this.typeKeyCount == 1) msg = '密码错误, 请重新输入'\n        else msg = `密码错误, 请重新输入 <br/>the ${this.typeKeyCount} attempt`\n        this.typeKeyCount++\n        MessageBox.prompt(msg).then(({ value, action }) => {\n          keyManager.setKey(value);\n          s()\n        })\n      })\n    },\n    newFile: async function () {\n      // MessageBox.prompt('输入新文件名').then(({ value, action }) => {\n      //   console.log(value)\n      // })\n      let newFilename = ''\n      try {\n        newFilename = await MessageBox.prompt('输入新文件名');\n        newFilename = newFilename.value\n\n        if (new RegExp('[\\\\\\\\/:*?\\\"<>|.]').test(newFilename))\n          return Toast('文件名不允许特殊字符')\n      } catch (error) { }\n\n      if (!newFilename) return\n\n      try {\n        let data = await axios.post(`file\\\\${newFilename}`)\n        data = data.data\n        if (data) {\n          return Toast(data)\n        }\n        this.$router.push(`file/${newFilename}`)\n      } catch (error) {\n        console.error(error)\n        Toast('网络异常')\n      }\n    }\n  },\n  mounted: async function () {\n    let m = await axios.get(\"./static/data/list.json\")\n    //验证密码\n    this.skey = m.data.key\n    while (!this.checkKey()) {\n      await this.setKey()\n    }\n    this.fileList = m.data.files;\n  }\n};\n</script>\n\n <style scoped>\na {\n  color: #42b983;\n  text-decoration: none;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/list.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('mt-header',{attrs:{\"fixed\":\"\",\"title\":\"hello \"}}),_vm._v(\" \"),_c('div',{staticStyle:{\"height\":\"40px\"}}),_vm._v(\" \"),_vm._l((_vm.fileList),function(file){return _c('router-link',{key:file,attrs:{\"slot\":\"right\",\"to\":'/file/'+file,\"icon\":\"more\"},slot:\"right\"},[_c('mt-cell',{attrs:{\"title\":file}})],1)}),_vm._v(\" \"),_c('mt-button',{staticStyle:{\"position\":\"fixed\",\"bottom\":\"16px\",\"right\":\"16px\"},attrs:{\"type\":\"primary\",\"size\":\"small\"},on:{\"click\":_vm.newFile}},[_vm._v(\"new\")])],2)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-77e5cd7f\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/list.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-77e5cd7f\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./list.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./list.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./list.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-77e5cd7f\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./list.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-77e5cd7f\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/list.vue\n// module id = null\n// module chunks = ","<template>\n  <div>\n    <mt-header fixed title=\"hello\">\n      <mt-button icon=\"\" v-if=\"showSaveButton\" slot=\"right\" @click=\"saveFile\">save</mt-button>\n    </mt-header>\n    <div style=\"height:40px\"></div>\n    <textarea :style=\"contentStyle\" v-model=\"filecontent\"></textarea>\n    <mt-button style=\"margin-top:120px\" @click=\"deleteFile\" type=\"danger\" size=\"large\">delete</mt-button>\n  </div>\n</template>\n\n<script>\nimport axios from \"axios\";\nimport { MessageBox } from \"mint-ui\";\nimport { Toast } from \"mint-ui\";\nimport aes from '../js/aes';\nimport keyManager from '../js/keyManager.js';\n\nexport default {\n  name: \"showfile\",\n  data() {\n    return {\n      showSaveButton: false,\n      filecontent: \"\",\n      filecontentOld: \"\",\n      contentStyle: `width: 100%;border: none;height: ${screen.availHeight - 80}px;font-family: \"lucida grande\", \"lucida sans unicode\", lucida, helvetica, \"Hiragino Sans GB\", \"Microsoft YaHei\", \"WenQuanYi Micro Hei\", sans-serif;`\n    };\n  },\n  methods: {\n    saveFile: async function () {\n      try {\n        let data = aes.encrypt(this.filecontent, keyManager.getKey())\n        console.log(data)\n        let result = await axios.put(`file/${this.$route.params.filename}`, { data: data })\n        result = result.data\n        if (result)\n          return Toast(result)\n        Toast('更新成功')\n      } catch (error) {\n        console.error(error)\n        Toast('更新失败')\n      }\n    },\n    deleteFile: async function () {\n      try {\n        await MessageBox.confirm('确认删除？', '提示')\n        try {\n          await axios.delete(`file/${this.$route.params.filename}`)\n          Toast('删除成功')\n          this.$router.go(-1)\n        } catch (error) {\n          Toast('删除失败')\n        }\n      } catch (error) { }\n    }\n  },\n  mounted: async function () {\n    let data = ''\n    try {\n      data = await axios.get(`./static/data/${this.$route.params.filename}`)\n      data = data.data\n    } catch (error) {\n      console.error(error)\n      return Toast(\"数据异常\")\n    }\n    //得到明文\n    const plaintext = aes.decrypt(data, keyManager.getKey())\n    console.log(plaintext)\n    this.filecontent = plaintext\n    this.filecontentOld = plaintext\n  },\n  watch: {\n    filecontent: function () {\n      this.showSaveButton = this.filecontent != this.filecontentOld\n    }\n  }\n};\n</script>\n\n <style scoped>\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/showfile.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('mt-header',{attrs:{\"fixed\":\"\",\"title\":\"hello\"}},[(_vm.showSaveButton)?_c('mt-button',{attrs:{\"slot\":\"right\",\"icon\":\"\"},on:{\"click\":_vm.saveFile},slot:\"right\"},[_vm._v(\"save\")]):_vm._e()],1),_vm._v(\" \"),_c('div',{staticStyle:{\"height\":\"40px\"}}),_vm._v(\" \"),_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.filecontent),expression:\"filecontent\"}],style:(_vm.contentStyle),domProps:{\"value\":(_vm.filecontent)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.filecontent=$event.target.value}}}),_vm._v(\" \"),_c('mt-button',{staticStyle:{\"margin-top\":\"120px\"},attrs:{\"type\":\"danger\",\"size\":\"large\"},on:{\"click\":_vm.deleteFile}},[_vm._v(\"delete\")])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-6d5e988d\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/showfile.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-6d5e988d\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./showfile.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./showfile.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./showfile.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-6d5e988d\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./showfile.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-6d5e988d\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/showfile.vue\n// module id = null\n// module chunks = ","import Vue from \"vue\";\nimport Router from \"vue-router\";\nimport list from \"@/components/list\";\nimport showfile from \"@/components/showfile\";\n\nVue.use(Router);\n\nexport default new Router({\n  routes: [\n    {\n      path: \"/\",\n      name: \"list\",\n      component: list\n    },\n    {\n      path: \"/file/:filename\",\n      name: \"showfile\",\n      component: showfile\n    }\n  ]\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/router/index.js","// The Vue build version to load with the `import` command\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\nimport Vue from \"vue\";\nimport App from \"./App\";\nimport router from \"./router\";\nimport MintUI from \"mint-ui\";\nimport \"mint-ui/lib/style.css\";\n\nVue.config.productionTip = false;\n\nVue.use(MintUI);\n\n/* eslint-disable no-new */\nnew Vue({\n  el: \"#app\",\n  router,\n  components: { App },\n  template: \"<App/>\"\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js"],"sourceRoot":""}