{"version":3,"sources":["webpack:///./src/App.vue?37b2","webpack:///./src/App.vue","webpack:///src/App.vue","webpack:///./src/js/aes.js","webpack:///./src/js/keyManager.js","webpack:///src/components/list.vue","webpack:///./src/components/list.vue?01fa","webpack:///./src/components/list.vue","webpack:///src/components/showfile.vue","webpack:///./src/components/showfile.vue?9d04","webpack:///./src/components/showfile.vue","webpack:///./src/router/index.js","webpack:///./src/main.js"],"names":["selectortype_template_index_0_src_App","render","_h","this","$createElement","_c","_self","attrs","id","staticRenderFns","src_App","__webpack_require__","normalizeComponent","name","ssrContext","iv","crypto_js_default","a","enc","Utf8","parse","aes","encrypt","word","key","from_default","TextEncoder","encode","map","m","toString","padStart","join","srcs","AES","mode","CBC","padding","pad","Pkcs7","ciphertext","toUpperCase","decrypt","encryptedHexStr","Hex","Base64","stringify","keyManager","sessionStorage","getItem","value","setItem","list","data","fileList","skey","typeKeyCount","methods","checkKey","ckey","setKey","_this","promise_default","s","msg","mint_ui_common","prompt","then","_ref","action","newFile","_ref2","asyncToGenerator_default","regenerator_default","mark","_callee","newFilename","wrap","_context","prev","next","sent","RegExp","test","abrupt","Object","t0","axios_default","post","console","log","alert","$router","push","t1","error","stop","apply","arguments","mounted","_ref3","_callee2","_context2","get","files","components_list","fixed","title","_v","staticStyle","height","_l","file","slot","to","icon","position","bottom","right","type","size","on","click","src_components_list","list_normalizeComponent","showfile","showSaveButton","filecontent","filecontentOld","contentStyle","screen","availHeight","saveFile","put","$route","params","filename","plaintext","watch","components_showfile","_vm","_e","directives","rawName","expression","style","domProps","input","$event","target","composing","src_components_showfile","showfile_normalizeComponent","vue_esm","use","vue_router_esm","router","routes","path","component","config","productionTip","mint_ui_common_default","el","components","App","template"],"mappings":"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","file":"static/js/app.93d5be5f227f0b6cc297.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('router-view')],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-1f5807a9\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-1f5807a9\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../node_modules/vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n}\nvar normalizeComponent = require(\"!../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\nimport __vue_script__ from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\n/* template */\nimport __vue_template__ from \"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-1f5807a9\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = null\n// module chunks = ","<template>\n  <div id=\"app\">\n    <!-- <img src=\"./assets/logo.png\"> -->\n    <router-view/>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'App'\n}\n</script>\n\n<style>\n#app {\n  font-family: \"Avenir\", Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  color: #2c3e50;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/App.vue","import CryptoJS from \"crypto-js\";\r\n\r\nconst iv = CryptoJS.enc.Utf8.parse(\"ABCDEF1234123412\"); // 十六位十六进制数作为密钥偏移量\r\n\r\nfunction encrypt(word, key) {\r\n  key = CryptoJS.enc.Utf8.parse(\r\n    Array.from(new TextEncoder().encode(key))\r\n      .map(m => {\r\n        return m.toString(16).padStart(2, \"0\");\r\n      })\r\n      .join(\"\")\r\n  );\r\n  let srcs = CryptoJS.enc.Utf8.parse(word);\r\n  let encrypted = CryptoJS.AES.encrypt(srcs, key, {\r\n    iv: iv,\r\n    mode: CryptoJS.mode.CBC,\r\n    padding: CryptoJS.pad.Pkcs7\r\n  });\r\n  return encrypted.ciphertext.toString().toUpperCase();\r\n}\r\n\r\nfunction decrypt(word, key) {\r\n  key = CryptoJS.enc.Utf8.parse(\r\n    Array.from(new TextEncoder().encode(key))\r\n      .map(m => {\r\n        return m.toString(16).padStart(2, \"0\");\r\n      })\r\n      .join(\"\")\r\n  );\r\n  let encryptedHexStr = CryptoJS.enc.Hex.parse(word);\r\n  let srcs = CryptoJS.enc.Base64.stringify(encryptedHexStr);\r\n  let decrypt = CryptoJS.AES.decrypt(srcs, key, {\r\n    iv: iv,\r\n    mode: CryptoJS.mode.CBC,\r\n    padding: CryptoJS.pad.Pkcs7\r\n  });\r\n  let decryptedStr = decrypt.toString(CryptoJS.enc.Utf8);\r\n  return decryptedStr.toString();\r\n}\r\n\r\nexport default {\r\n  encrypt: encrypt,\r\n  decrypt: decrypt\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/aes.js","export default {\r\n  getKey: () => {\r\n    return sessionStorage.getItem(\"theAesKey\");\r\n  },\r\n  setKey: value => {\r\n    sessionStorage.setItem(\"theAesKey\", value);\r\n  }\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/keyManager.js","<template>\n  <div>\n    <mt-header fixed title=\"hello, \"></mt-header>\n    <div style=\"height:40px\"></div>\n    <router-link v-for=\"file in fileList\" :to=\"'/file/'+file\" :key=\"file\" icon=\"more\" slot=\"right\">\n      <mt-cell :title=\"file\"></mt-cell>\n    </router-link>\n    <mt-button type=\"primary\" size=\"small\" @click=\"newFile\" style=\"position: fixed;bottom: 16px;right: 16px;\">new</mt-button>\n  </div>\n</template>\n\n<script>\nimport { MessageBox } from \"mint-ui\";\nimport { Toast } from \"mint-ui\";\nimport axios from \"axios\";\nimport CryptoJS from \"crypto-js\";\nimport aes from '../js/aes.js';\nimport keyManager from '../js/keyManager.js';\n\nexport default {\n  name: \"list\",\n  data() {\n    return {\n      fileList: [],\n      skey: '',\n      typeKeyCount: 0\n    };\n  },\n  methods: {\n    checkKey: function () {\n      const ckey = keyManager.getKey()\n      if (!ckey) return false\n      if (aes.encrypt(ckey, ckey) != this.skey)\n        return false\n      return true\n    },\n    setKey: function () {\n      return new Promise(s => {\n        let msg = ''\n        if (this.typeKeyCount <= 0) msg = '请输入密码'\n        else if (this.typeKeyCount == 1) msg = '密码错误, 请重新输入'\n        else msg = `密码错误, 请重新输入 <br/>the ${this.typeKeyCount} attempt`\n        this.typeKeyCount++\n        MessageBox.prompt(msg).then(({ value, action }) => {\n          keyManager.setKey(value);\n          s()\n        })\n      })\n    },\n    newFile: async function () {\n      // MessageBox.prompt('输入新文件名').then(({ value, action }) => {\n      //   console.log(value)\n      // })\n      let newFilename = ''\n      try {\n        newFilename = await MessageBox.prompt('输入新文件名');\n        newFilename = newFilename.value\n\n        if (new RegExp('[\\\\\\\\/:*?\\\"<>|.]').test(newFilename))\n          return Toast('文件名不允许特殊字符')\n      } catch (error) { }\n\n      if (!newFilename) return\n\n      try {\n        let data = await axios.post(`file\\\\${newFilename}`)\n        data = data.data\n        console.log(data)\n        if (data) {\n          alert(data)\n          return Toast(data)\n        }\n        this.$router.push(`file/${newFilename}`)\n      } catch (error) {\n        this.$router.push('file/xxxxxxx')\n        console.error(error)\n        Toast('网络异常')\n      }\n    }\n  },\n  mounted: async function () {\n    let m = await axios.get(\"./static/data/list.json\")\n    //验证密码\n    this.skey = m.data.key\n    while (!this.checkKey()) {\n      await this.setKey()\n    }\n    this.fileList = m.data.files;\n  }\n};\n</script>\n\n <style scoped>\na {\n  color: #42b983;\n  text-decoration: none;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/list.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('mt-header',{attrs:{\"fixed\":\"\",\"title\":\"hello, \"}}),_vm._v(\" \"),_c('div',{staticStyle:{\"height\":\"40px\"}}),_vm._v(\" \"),_vm._l((_vm.fileList),function(file){return _c('router-link',{key:file,attrs:{\"slot\":\"right\",\"to\":'/file/'+file,\"icon\":\"more\"},slot:\"right\"},[_c('mt-cell',{attrs:{\"title\":file}})],1)}),_vm._v(\" \"),_c('mt-button',{staticStyle:{\"position\":\"fixed\",\"bottom\":\"16px\",\"right\":\"16px\"},attrs:{\"type\":\"primary\",\"size\":\"small\"},on:{\"click\":_vm.newFile}},[_vm._v(\"new\")])],2)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-be8b0da2\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/list.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-be8b0da2\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./list.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./list.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./list.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-be8b0da2\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./list.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-be8b0da2\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/list.vue\n// module id = null\n// module chunks = ","<template>\n  <div>\n    <mt-header fixed title=\"固定在顶部\">\n      <mt-button icon=\"\" v-if=\"showSaveButton\" slot=\"right\" @click=\"saveFile\">save</mt-button>\n    </mt-header>\n    <div style=\"height:40px\"></div>\n    <textarea :style=\"contentStyle\" v-model=\"filecontent\"></textarea>\n  </div>\n</template>\n\n<script>\nimport axios from \"axios\";\nimport { Toast } from \"mint-ui\";\nimport aes from '../js/aes';\nimport keyManager from '../js/keyManager.js';\n\nexport default {\n  name: \"showfile\",\n  data() {\n    return {\n      showSaveButton: false,\n      filecontent: \"\",\n      filecontentOld: \"\",\n      contentStyle: `width: 100%;border: none;height: ${screen.availHeight - 80}px;font-family: \"lucida grande\", \"lucida sans unicode\", lucida, helvetica, \"Hiragino Sans GB\", \"Microsoft YaHei\", \"WenQuanYi Micro Hei\", sans-serif;`\n    };\n  },\n  methods: {\n    saveFile: async function () {\n      try {\n        let data = aes.encrypt(this.filecontent, keyManager.getKey())\n        console.log(data)\n        let a = await axios.put(`file/${this.$route.params.filename}`, { data: data })\n        console.log(a)\n      } catch (error) {\n        console.error(error)\n      }\n    }\n  },\n  mounted: async function () {\n    let data = ''\n    try {\n      data = await axios.get(`./static/data/${this.$route.params.filename}`)\n      data = data.data\n    } catch (error) {\n      console.error(error)\n      return Toast(\"数据异常\")\n    }\n    //得到明文\n    const plaintext = aes.decrypt(data, keyManager.getKey())\n    console.log(plaintext)\n    this.filecontent = plaintext\n    this.filecontentOld = plaintext\n  },\n  watch: {\n    filecontent: function () {\n      this.showSaveButton = this.filecontent != this.filecontentOld\n    }\n  }\n};\n</script>\n\n <style scoped>\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/showfile.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('mt-header',{attrs:{\"fixed\":\"\",\"title\":\"固定在顶部\"}},[(_vm.showSaveButton)?_c('mt-button',{attrs:{\"slot\":\"right\",\"icon\":\"\"},on:{\"click\":_vm.saveFile},slot:\"right\"},[_vm._v(\"save\")]):_vm._e()],1),_vm._v(\" \"),_c('div',{staticStyle:{\"height\":\"40px\"}}),_vm._v(\" \"),_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.filecontent),expression:\"filecontent\"}],style:(_vm.contentStyle),domProps:{\"value\":(_vm.filecontent)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.filecontent=$event.target.value}}})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-04acde32\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/showfile.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-04acde32\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./showfile.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./showfile.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./showfile.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-04acde32\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./showfile.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-04acde32\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/showfile.vue\n// module id = null\n// module chunks = ","import Vue from \"vue\";\nimport Router from \"vue-router\";\nimport list from \"@/components/list\";\nimport showfile from \"@/components/showfile\";\n\nVue.use(Router);\n\nexport default new Router({\n  routes: [\n    {\n      path: \"/\",\n      name: \"list\",\n      component: list\n    },\n    {\n      path: \"/file/:filename\",\n      name: \"showfile\",\n      component: showfile\n    }\n  ]\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/router/index.js","// The Vue build version to load with the `import` command\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\nimport Vue from \"vue\";\nimport App from \"./App\";\nimport router from \"./router\";\nimport MintUI from \"mint-ui\";\nimport \"mint-ui/lib/style.css\";\n\nVue.config.productionTip = false;\n\nVue.use(MintUI);\n\n/* eslint-disable no-new */\nnew Vue({\n  el: \"#app\",\n  router,\n  components: { App },\n  template: \"<App/>\"\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js"],"sourceRoot":""}