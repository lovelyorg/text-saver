{"version":3,"sources":["webpack:///./src/App.vue?43d1","webpack:///./src/App.vue","webpack:///src/App.vue","webpack:///./src/js/aes.js","webpack:///./src/js/keyManager.js","webpack:///src/components/list.vue","webpack:///./src/components/list.vue?01bf","webpack:///./src/components/list.vue","webpack:///src/components/showfile.vue","webpack:///./src/components/showfile.vue?a560","webpack:///./src/components/showfile.vue","webpack:///./src/router/index.js","webpack:///./src/main.js"],"names":["selectortype_template_index_0_src_App","render","_h","this","$createElement","_c","_self","attrs","id","staticRenderFns","src_App","__webpack_require__","normalizeComponent","name","ssrContext","iv","crypto_js_default","a","enc","Utf8","parse","aes","encrypt","word","key","from_default","TextEncoder","encode","map","m","toString","padStart","join","srcs","AES","mode","CBC","padding","pad","Pkcs7","ciphertext","toUpperCase","decrypt","encryptedHexStr","Hex","Base64","stringify","keyManager","sessionStorage","getItem","value","setItem","list","data","fileList","skey","typeKeyCount","methods","checkKey","ckey","setKey","_ref","asyncToGenerator_default","regenerator_default","mark","_callee","msg","wrap","_context","prev","next","mint_ui_common","prompt","sent","t0","stop","apply","arguments","newFile","_ref2","_callee2","newFilename","_context2","RegExp","test","abrupt","Object","axios_default","post","$router","push","t1","console","error","mounted","_ref3","_callee3","_context3","get","files","components_list","fixed","title","_v","staticStyle","height","_l","file","slot","to","icon","position","bottom","right","type","size","on","click","src_components_list","list_normalizeComponent","showfile","showSaveButton","filecontent","filecontentOld","contentStyle","screen","availHeight","saveFile","result","log","put","$route","params","filename","deleteFile","confirm","delete","go","plaintext","watch","components_showfile","_vm","_e","directives","rawName","expression","style","domProps","input","$event","target","composing","margin-top","src_components_showfile","showfile_normalizeComponent","vue_esm","use","vue_router_esm","router","routes","path","component","config","productionTip","mint_ui_common_default","el","components","App","template"],"mappings":"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","file":"static/js/app.527d299cc05b1502714a.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('router-view')],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-577e1456\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-577e1456\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../node_modules/vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n}\nvar normalizeComponent = require(\"!../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\nimport __vue_script__ from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\n/* template */\nimport __vue_template__ from \"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-577e1456\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = null\n// module chunks = ","<template>\r\n  <div id=\"app\">\r\n    <!-- <img src=\"./assets/logo.png\"> -->\r\n    <router-view/>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'App'\r\n}\r\n</script>\r\n\r\n<style>\r\n#app {\r\n  font-family: \"Avenir\", Helvetica, Arial, sans-serif;\r\n  -webkit-font-smoothing: antialiased;\r\n  -moz-osx-font-smoothing: grayscale;\r\n  color: #2c3e50;\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/App.vue","import CryptoJS from \"crypto-js\";\r\n\r\nconst iv = CryptoJS.enc.Utf8.parse(\"ABCDEF1234123412\"); // 十六位十六进制数作为密钥偏移量\r\n\r\nfunction encrypt(word, key) {\r\n  key = CryptoJS.enc.Utf8.parse(\r\n    Array.from(new TextEncoder().encode(key))\r\n      .map(m => {\r\n        return m.toString(16).padStart(2, \"0\");\r\n      })\r\n      .join(\"\")\r\n  );\r\n  let srcs = CryptoJS.enc.Utf8.parse(word);\r\n  let encrypted = CryptoJS.AES.encrypt(srcs, key, {\r\n    iv: iv,\r\n    mode: CryptoJS.mode.CBC,\r\n    padding: CryptoJS.pad.Pkcs7\r\n  });\r\n  return encrypted.ciphertext.toString().toUpperCase();\r\n}\r\n\r\nfunction decrypt(word, key) {\r\n  key = CryptoJS.enc.Utf8.parse(\r\n    Array.from(new TextEncoder().encode(key))\r\n      .map(m => {\r\n        return m.toString(16).padStart(2, \"0\");\r\n      })\r\n      .join(\"\")\r\n  );\r\n  let encryptedHexStr = CryptoJS.enc.Hex.parse(word);\r\n  let srcs = CryptoJS.enc.Base64.stringify(encryptedHexStr);\r\n  let decrypt = CryptoJS.AES.decrypt(srcs, key, {\r\n    iv: iv,\r\n    mode: CryptoJS.mode.CBC,\r\n    padding: CryptoJS.pad.Pkcs7\r\n  });\r\n  let decryptedStr = decrypt.toString(CryptoJS.enc.Utf8);\r\n  return decryptedStr.toString();\r\n}\r\n\r\nexport default {\r\n  encrypt: encrypt,\r\n  decrypt: decrypt\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/aes.js","export default {\r\n  getKey: () => {\r\n    return sessionStorage.getItem(\"theAesKey\");\r\n  },\r\n  setKey: value => {\r\n    sessionStorage.setItem(\"theAesKey\", value);\r\n  }\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/keyManager.js","<template>\r\n  <div>\r\n    <mt-header fixed title=\"hello \"></mt-header>\r\n    <div style=\"height:40px\"></div>\r\n    <router-link v-for=\"file in fileList\" :to=\"'/file/'+file\" :key=\"file\" icon=\"more\" slot=\"right\">\r\n      <mt-cell :title=\"file\"></mt-cell>\r\n    </router-link>\r\n    <mt-button type=\"primary\" size=\"small\" @click=\"newFile\" style=\"position: fixed;bottom: 16px;right: 16px;\">new</mt-button>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { MessageBox } from \"mint-ui\";\r\nimport { Toast } from \"mint-ui\";\r\nimport axios from \"axios\";\r\nimport CryptoJS from \"crypto-js\";\r\nimport aes from \"../js/aes.js\";\r\nimport keyManager from \"../js/keyManager.js\";\r\n\r\nexport default {\r\n  name: \"list\",\r\n  data() {\r\n    return {\r\n      fileList: [],\r\n      skey: \"\",\r\n      typeKeyCount: 0\r\n    };\r\n  },\r\n  methods: {\r\n    checkKey: function() {\r\n      const ckey = keyManager.getKey();\r\n      if (!ckey) return false;\r\n      if (aes.encrypt(ckey, ckey) != this.skey) return false;\r\n      return true;\r\n    },\r\n    setKey: async function() {\r\n      let msg = \"\";\r\n      if (this.typeKeyCount <= 0) msg = \"请输入密码\";\r\n      else if (this.typeKeyCount == 1) msg = \"密码错误, 请重新输入\";\r\n      else msg = `密码错误, 请重新输入 <br/>the ${this.typeKeyCount} attempt`;\r\n      this.typeKeyCount++;\r\n      try {\r\n        let key = await MessageBox.prompt(msg);\r\n        keyManager.setKey(key.value);\r\n      } catch (error) {}\r\n    },\r\n    newFile: async function() {\r\n      let newFilename = \"\";\r\n      try {\r\n        newFilename = await MessageBox.prompt(\"输入新文件名\");\r\n        newFilename = newFilename.value;\r\n\r\n        if (new RegExp('[\\\\\\\\/:*?\"<>|.]').test(newFilename))\r\n          return Toast(\"文件名不允许特殊字符\");\r\n      } catch (error) {}\r\n\r\n      if (!newFilename) return;\r\n\r\n      try {\r\n        let data = await axios.post(`file\\\\${newFilename}`);\r\n        data = data.data;\r\n        if (data) {\r\n          return Toast(data);\r\n        }\r\n        this.$router.push(`file/${newFilename}`);\r\n      } catch (error) {\r\n        console.error(error);\r\n        Toast(\"网络异常\");\r\n      }\r\n    }\r\n  },\r\n  mounted: async function() {\r\n    let m = await axios.get(\"./static/data/list.json\");\r\n    //验证密码\r\n    this.skey = m.data.key;\r\n    while (!this.checkKey()) {\r\n      await this.setKey();\r\n    }\r\n    this.fileList = m.data.files;\r\n  }\r\n};\r\n</script>\r\n\r\n <style scoped>\r\na {\r\n  color: #42b983;\r\n  text-decoration: none;\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/list.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('mt-header',{attrs:{\"fixed\":\"\",\"title\":\"hello \"}}),_vm._v(\" \"),_c('div',{staticStyle:{\"height\":\"40px\"}}),_vm._v(\" \"),_vm._l((_vm.fileList),function(file){return _c('router-link',{key:file,attrs:{\"slot\":\"right\",\"to\":'/file/'+file,\"icon\":\"more\"},slot:\"right\"},[_c('mt-cell',{attrs:{\"title\":file}})],1)}),_vm._v(\" \"),_c('mt-button',{staticStyle:{\"position\":\"fixed\",\"bottom\":\"16px\",\"right\":\"16px\"},attrs:{\"type\":\"primary\",\"size\":\"small\"},on:{\"click\":_vm.newFile}},[_vm._v(\"new\")])],2)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-74a4a55c\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/list.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-74a4a55c\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./list.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./list.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./list.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-74a4a55c\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./list.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-74a4a55c\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/list.vue\n// module id = null\n// module chunks = ","<template>\r\n  <div>\r\n    <mt-header fixed title=\"hello\">\r\n      <mt-button icon=\"\" v-if=\"showSaveButton\" slot=\"right\" @click=\"saveFile\">save</mt-button>\r\n    </mt-header>\r\n    <div style=\"height:40px\"></div>\r\n    <textarea :style=\"contentStyle\" v-model=\"filecontent\"></textarea>\r\n    <mt-button style=\"margin-top:120px\" @click=\"deleteFile\" type=\"danger\" size=\"large\">delete</mt-button>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from \"axios\";\r\nimport { MessageBox } from \"mint-ui\";\r\nimport { Toast } from \"mint-ui\";\r\nimport aes from '../js/aes';\r\nimport keyManager from '../js/keyManager.js';\r\n\r\nexport default {\r\n  name: \"showfile\",\r\n  data() {\r\n    return {\r\n      showSaveButton: false,\r\n      filecontent: \"\",\r\n      filecontentOld: \"\",\r\n      contentStyle: `width: 100%;border: none;height: ${screen.availHeight - 80}px;font-family: \"lucida grande\", \"lucida sans unicode\", lucida, helvetica, \"Hiragino Sans GB\", \"Microsoft YaHei\", \"WenQuanYi Micro Hei\", sans-serif;`\r\n    };\r\n  },\r\n  methods: {\r\n    saveFile: async function () {\r\n      try {\r\n        let data = aes.encrypt(this.filecontent, keyManager.getKey())\r\n        console.log(data)\r\n        let result = await axios.put(`file/${this.$route.params.filename}`, { data: data })\r\n        result = result.data\r\n        if (result)\r\n          return Toast(result)\r\n        Toast('更新成功')\r\n      } catch (error) {\r\n        console.error(error)\r\n        Toast('更新失败')\r\n      }\r\n    },\r\n    deleteFile: async function () {\r\n      try {\r\n        await MessageBox.confirm('确认删除？', '提示')\r\n        try {\r\n          await axios.delete(`file/${this.$route.params.filename}`)\r\n          Toast('删除成功')\r\n          this.$router.go(-1)\r\n        } catch (error) {\r\n          Toast('删除失败')\r\n        }\r\n      } catch (error) { }\r\n    }\r\n  },\r\n  mounted: async function () {\r\n    let data = ''\r\n    try {\r\n      data = await axios.get(`./static/data/${this.$route.params.filename}`)\r\n      data = data.data\r\n    } catch (error) {\r\n      console.error(error)\r\n      return Toast(\"数据异常\")\r\n    }\r\n    //得到明文\r\n    const plaintext = aes.decrypt(data, keyManager.getKey())\r\n    console.log(plaintext)\r\n    this.filecontent = plaintext\r\n    this.filecontentOld = plaintext\r\n  },\r\n  watch: {\r\n    filecontent: function () {\r\n      this.showSaveButton = this.filecontent != this.filecontentOld\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n <style scoped>\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/showfile.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('mt-header',{attrs:{\"fixed\":\"\",\"title\":\"hello\"}},[(_vm.showSaveButton)?_c('mt-button',{attrs:{\"slot\":\"right\",\"icon\":\"\"},on:{\"click\":_vm.saveFile},slot:\"right\"},[_vm._v(\"save\")]):_vm._e()],1),_vm._v(\" \"),_c('div',{staticStyle:{\"height\":\"40px\"}}),_vm._v(\" \"),_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.filecontent),expression:\"filecontent\"}],style:(_vm.contentStyle),domProps:{\"value\":(_vm.filecontent)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.filecontent=$event.target.value}}}),_vm._v(\" \"),_c('mt-button',{staticStyle:{\"margin-top\":\"120px\"},attrs:{\"type\":\"danger\",\"size\":\"large\"},on:{\"click\":_vm.deleteFile}},[_vm._v(\"delete\")])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-2227a174\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/showfile.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-2227a174\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./showfile.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./showfile.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./showfile.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-2227a174\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./showfile.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-2227a174\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/showfile.vue\n// module id = null\n// module chunks = ","import Vue from \"vue\";\r\nimport Router from \"vue-router\";\r\nimport list from \"@/components/list\";\r\nimport showfile from \"@/components/showfile\";\r\n\r\nVue.use(Router);\r\n\r\nexport default new Router({\r\n  routes: [\r\n    {\r\n      path: \"/\",\r\n      name: \"list\",\r\n      component: list\r\n    },\r\n    {\r\n      path: \"/file/:filename\",\r\n      name: \"showfile\",\r\n      component: showfile\r\n    }\r\n  ]\r\n});\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/router/index.js","// The Vue build version to load with the `import` command\r\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\r\nimport Vue from \"vue\";\r\nimport App from \"./App\";\r\nimport router from \"./router\";\r\nimport MintUI from \"mint-ui\";\r\nimport \"mint-ui/lib/style.css\";\r\n\r\nVue.config.productionTip = false;\r\n\r\nVue.use(MintUI);\r\n\r\n/* eslint-disable no-new */\r\nnew Vue({\r\n  el: \"#app\",\r\n  router,\r\n  components: { App },\r\n  template: \"<App/>\"\r\n});\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js"],"sourceRoot":""}